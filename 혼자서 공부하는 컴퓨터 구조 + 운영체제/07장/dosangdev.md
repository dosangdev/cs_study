# 보조기억장치

## 다양한 보조기억장치

### 하드 디스크

- 구성요소
  - 플래터: 실질적으로 데이터가 저장되는 곳
    - 자기 물질로 덮여있어 수많은 N극과 S극을 저장한다. N극과 S극은 0과 1의 역할을 수행한다.
  - 스핀들: 플래터를 회전시크는 구성 요소
    - 스핀들이 플래터를 돌리는 속도는 분당 회전수를 나타내는 RPM이라는 단위로 표현된다. ex) 1분에 15000바퀴를 회전 = 15000RPM
  - 헤드: 플래터를 대상으로 데이터를 읽고 쓰는 구성 요소
    - 플래터 위에서 미세하게 떠 있는 채로 데이터를 읽고 쓰는 부품
    - 헤드는 원하는 위치로 헤드를 이동시키는 디스크 암에 부착되어 있다.
- 자기적인 방식으로 데이터를 저장하는 보조기억장치(=자기 디스크)
- CD나 LP에 비해 훨씬 더 많은 양의 데이터를 저장해야 하므로 일반적으로 여러 겹의 플래터로 이루어져 있고 플래터 양면을 모두 사용할 수 있다.
- 양면 플래터를 사용하면 위아래로 플래터당 두 개의 헤드가 사용된다.

- 데이터 저장
  - 플래터는 트랙과 섹터라는 단위로 데이터를 저장
    - 섹터: 하드 디스크의 가장 작은 전송 단위
      - 하나의 섹터는 일반적으로 512바이트 정도의 크기, 일부 하드디스크의 섹터 크기는 4,096바이트에 이르기도 한다.
      - 하나 이상의 섹터를 묶어 블록이라고도 한다.
  - 여러 겹의 플래터 상에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위를 실린더라고 한다.
  - 연속된 정보는 보통 한 실린더에 기록된다(디스크 암을 움직이지 않고도 바로 데이터에 접근할 수 있기 때문).
  - 하드디스크가 저장된 데이터에 접근하는 시간(성능에 큰 영향을 끼치는 시간)
    - 탐색 시간: 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
    - 회전 지연: 헤드가 있는 곳으로 플래터를 회전시키는 시간
    - 전송 시간: 하드디스크와 컴퓨터 간에 데이터를 전송하는 시간

### 플래시 메모리

- 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장장치
- 플레시 메모리 기반의 보조기억장치 - USB, SD카드, SSD
- 보조기억장치이외에도 다양한 곳에서 쓰임 - ROM이나 일상적으로 접하는 거의 모든 전자제품 안에 플래시메모리가 내장되어 있다.
- 셀: 플래시메모리에서 데이터를 저장하는 가장 작은 단위
  - 하나의 셀에 몇 비트를 저장할 수 있느냐에 따라 플래시메모리의 종류가 나뉜다
  - 1비트를 저장: SLC타입
    - MLC, TLC에 비해 비트의 빠른 입출력이 가능하고 수명도 길지만, 용량 대비 가격이 높다.
  - 2비트를 저장: MLC타입
    - 한 셀로 네 개의 정보를 표현할 수 있다.
    - SLC타입보다 대용화하기 유리하다.
    - 시중에서 사용되는 많은 플래시 메모리 저장 장치들이 MLC로 만들어진다.
  - 3비트를 저장: TLC타입
    - 한 셀로 여덟 개의 정보를 표현할 수 있다.
  - 4비트를 저장: QLC타입

| 구분           | SLC    | MLC  | TLC    |
| -------------- | ------ | ---- | ------ |
| 셀당 bit       | 1bit   | 2bit | 3bit   |
| 수명           | 길다   | 보통 | 짧다   |
| 읽기/쓰기 속도 | 빠르다 | 보통 | 느리다 |
| 용량 대비 가격 | 높다   | 보통 | 낮다   |

- 페이지: 셀들이 모여 만들어진 단위
- 블록: 페이지가 모여 만들어진 단위
- 플레인: 블록이 모여 만들어진 단위
- 다이: 플레인이 모여 만들어진 단위

- 종류

  - NAND 플래시메모리: NAND연사을 수행하는 회로를 기반으로 만들어진 메모리
  - NOR 플래시메모리: NOR연사을 수행하는 회로를 기반으로 만들어진 메모리

- 읽기와 쓰기는 페이지 단위, 삭제는 페이지보다 큰 블록단위로 이루어진다. -> 플래시메모리의 가장 큰 특징
- 페이지의 상태
  - Free: 어떠한 데이터도 저장하고 있지 않아 새로운 데이터를 저장할 수 있는 상태
  - Valid: 이미 유효한 데이터를 저장하고 있는 상태
  - Invalid: 쓰레기값이라 부르는 유효하지 않는 데이터를 저장하고 있는 상태
  - 하드디스크와는 달리 덮어쓰기가 불가능하여 Valid 상태인 페이지에는 새 데이터를 저장할 수 없다.
    - 삭제는 블록단위로 수행되기 때문에 가비지 컬렉션기능을 제공한다.
    - 가비지 컬렉션: 유효한 페이지들만을 새로운 블록으로 복사한 뒤, 기존의 블록을 삭제하는 기능

## RAID의 정의와 종류

### RAID의 정의

- 주로 하드 디스크와 SSD를 사용하는 기술로, 데이터의 안전성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치처럼 사용하는 기술

### RAID의 종류

- RAID 구성 방법을 RAID 레베이라 표현하는데 RAID 0, RAID 1, RAID 2, RAID 3, RAID 4, RAID 5, RAID 6이 있고 그로부터 파생된 RAID 10, RAID 50 등이 있다. 이 중 대중적인게 0,1,2,3,4,5,6이다.

- RAID 0: 여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식

  - 저장되는 데이터가 하드 디스크 개수만큼 나뉘어 저장된다.
  - 줄무늬처럼 분산되어 저장된 데이터를 스트라입이라하고, 분산하여 저장하는 것을 스트라이핑이라고한다. -> 데이터를 읽고 쓰는 속도가 빨라진다.
  - 단점으로 저장된 정보가 안전하지 않다. RAID 0으로 구성된 하드디스크 중 하나에 문제가 생긴다면 다른 모든 하드디스크의 정보를 읽는데 문제가 생길 수 있다. -> 그래서 RAID 1이 등장

- RAID 1(=미러링): 복사본을 만드는 방식

- RAID 4: RAID 1처럼 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식.

  - 오류를 검출하고 복구하기 위한 정보: 패리티 비트라 한다. 오류가 있다면 복구를 한다.

- RAID 5: 패리티 정보를 분산하여 저장하는 방식으로 RAID 4의 문제인 병목현상을 해소한다.

- RAID 6: 구성은 기본적으로 RAID 5와 같으나, 서로 다른 두개의 패리티를 두는 방식이다.
  - 오류를 검출하고 복구하기 위한 수단이 2개가 생긴 셈이다(4,5보다 안전한 구성).
  - 새로운 정보를 저장할 때마다 함께 저장할 패리티가 두 개이므로, 쓰는 속도가 RAID 5보다 느리다.
