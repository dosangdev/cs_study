# 9-1 운영체제를 알아야 하는 이유

## 운영체제

- 운영체제: 실행할 프로그램에 필요한 자원을 할당, 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램

  - 메모리 내에 **커널 영역**에 적재되어 실행(나머지 메모리 부분은 **사용자 영역** - 응용프로그램이 적재)
  - 메모리 자원 관리: 사용자 영역에 프로그램들이 서로 다른 메모리 주소에 할당해주거나 실행되지 않는 프로그램을 메모리에서 삭제
  - CPU 자원 할당

- 시스템 자원(자원): 프로그램 실행에 마땅히 필요한 요소
  - ex) CPU, 메모리, 보조기억장치, 입출력장치 등 컴퓨터의 모든 부품

## 운영체제를 알아야하는 이유

- 운영체제와의 대화를 통해 하드웨어와 프로그램을 더 깊이 이해하고 문제 해결의 실마리를 찾을 수 있다.
  - ex) 디버깅, 성능 최적화

<hr/>

# 9-2 운영체제의 큰 그림

## 운영체제의 심장, 커널

- 커널: 운영체제의 핵심 서비스 담당

- 커널에 포함되지 않는 기능
  - UI: 사용자가 컴퓨터와 상호작용할 수 있는 통로
    - GUI(Graphical User Interface)
    - CLI(Command Line Interface)

## 이중모드와 시스템 호출

- 운영체제는 응용 프로그램들이 자원에 접근하려고 할 때 오직 자신을 통해서만 접근하도록하여 자원을 보호

  - ex) 응용프로그램이 운영체제에 도움 요청 -> 운영체제는 커널 영역 내의 하드 디스크에 데이터를 저장하는 코드를 실행 -> 응용프로그램의 작업을 대신 수행
  - 이중모드로써 구현

- 이중모드: CPU가 명령어를 실행하는 모드로 구분

  - 사용자 모드: 커널 영역의 코드를 실행할 수 없는 모드
    - 일반적으로 응용프로그램이 실행되는 모드
  - 커널 모드: 운영체제 서비스를 제공받을 수 있는 실행 모드

    - 커널 영역의 코드를 실행할 수 있는 모드

    cf. CPU가 어떤 모드인지는 플래그 레지스터 속 슈퍼바이저 플래그를 보면 알 수 있다.

- 시스템 호출(시스템 콜): 사용자 모드로 실행되는 프로그램이 자원에 접근하는 운영체제 서비스를 제공받기위해 보내는 요청
  - 소프트웨어 인터럽트: 인터럽트를 발생시키는 특정 명령어에 의해 발생(CPU가 시스템 호출을 처리하는 순서가 인터럽트 처리 순서와 유사)
  - 시스템 호출 처리 순서
    1. 호출을 발생시키는 명령어 실행
    2. CPU는 지금까지의 작업을 백업
    3. 커널영역 내에 수행하는 코드를 실행
    4. 기존에 실행하던 응용프로그램으로 복귀하여 실행

## 운영체제의 핵심 서비스

- 프로세스 관리

  - 프로세스: 실행 중인 프로그램

- 자원 접근 및 할당

  - 프로세스는 실행을 위해 자원을 할당
  - CPU: CPU스케줄링으로 CPU의 할당 관리
  - 메모리: 새로운 프로세스가 적재될 때마다 어느 주소에 적재해야 할지를 결정
  - 입출력장치: 인터럽트 서비스 루틴을 제공함으로써 입출력 작업을 수행

- 파일 시스템 관리
