5장. 클라우드 구조를 알아보자
---
### 51. 클라우드 구조
#### - 클라우드란?
Amazon, Google 등의 세계적인 기업들은 대용량 서버를 갖추고 있다. 
하지만 평시엔 서버 리소스 중 사용률이 높지 않음 -> 남는 리소스를 대여해주기 시작!

> 클라우드란, 호텔에 머물때 호텔을 인수하는 게 아닌 한 호실을 하루만 대여해서 묵는 것과 같다.

#### - 데이터 센터
클라우드는 물리적인 시설과 비유하자면 데이터센터와 유사하다. 
>데이터 센터 : 기업의 서버 랙, 네트워크 회선, 모니터링 시설, 데이터베이스 등 서버 관련 인프라가 집결된 곳


### 52. 서버 가상화
하나의 서버에서 여러 개의 CPU와 OS를 논리적으로(가상으로) 구성하는 기술. 

이를 이용해 하나의 거대한 서버를 작은 서버로 쪼개어 사용자들에게 대여해주는 서비스(호스팅)를 실현할 수 있다. 이는 클라우드의 원형이다.

#### - 가상화의 종류 - 호스트 OS형 vs 하이퍼바이저형
> 호스트 OS형 : 호스트 OS가 있고, 그 위에 여러 개의 게스트 OS가 돌아가는 방식
>
> 하이퍼바이저형 : 하이퍼바이저가 있고, 그 위에 여러 개의 가상머신이 돌아가는 방식


### 53. 분산 기술
#### - 중앙 집중형 vs 분산형

![image](https://github.com/Minnie5382/devduck-cs-study/assets/97179789/6b06d55c-9502-4f97-b3cc-6b9e5f652d13)

중앙 집중형의 장단점 : 관리 용이, 관리 호스트가 다운되면 전체 네트워크 다운됨

분산형의 장단점 : 관리 어려움, 확장성/유연성 높고 개별 호스트가 다운되어도 네트워크 전체는 살아남음

#### - 클라우드의 분산 기술
AWS, 애저 등 대규모 클라우드 서비스는 분산형 서버이며, 서버 리소스를 전 세계 데이터센터에 분산시킨다. 이는 장애에 강하고, 시스템 가용성에도 좋다.

### 54.IaaS/PaaS/SaaS/DaaS
|종류|설명|예시|
|-|-|-|
|IaaS|가상 서버를 이용할 때 하드웨어의 기본 구성을 지정하는 형태. 즉 서버의 물리적 인프라를 가상화하여 제공한다. |일반 사양부터 머신 러닝, 시뮬레이션 등을 위한 클러스터까지.|
|PaaS|물리적 인프라 + 데이터베이스와 미들웨어까지 포함하는 형태. 즉 플랫폼을 가상화하여 제공. |주로 앱 개발 환경 등을 제공.|
|SaaS|애플리케이션(프로그램)까지 모두 준비되어 있는 형태. |CAD 프로그램, 지메일 등 이메일. |
|DaaS|OS를 가상화하여 제공. |가상 데스크톱|

### 55. 클라우드 컴퓨팅 vs 온프레미스
> 온프레미스 : 클라우드와 반대되는 전통적인 개념. 물리적인 서버랙 등을 직접 설비하고 관리하는 것.

|항목|온프레미스|클라우드|
|-|-|-|
|초기 비용|크다|적다|
|운영 비용|적다|크다|
|보안성|낮다|높다|

### 56. 에지 컴퓨팅
#### - 등장 배경
기업에서 클라우드를 이용해 서버를 구축하는 것 뿐만아니라 IoT 기기의 보급이 증가하며, 클라우드 서버의 부하가 커졌다.

이런 IoT 기기들은 real-time 통신이 중요하기 때문에, 레이턴시를 줄이고 메인 서버의 과부하를 줄이기 위해 에지 컴퓨팅을 도입했다.

#### - 에지 컴퓨팅이란
> 단말기 혹은 단말기에 가까운 곳(에지)에 데이터 수집, 응답 처리, 전처리 등을 담당하는 서버를 분산 배치하는 방법. 

5G 네트워크와 함께 발전하고 있다.

### 57. 컨테이너
#### - 컨테이너
호스트 OS형과 하이퍼바이저형과 더불어 또 다른 가상화 방식 중 하나이다.

애플리케이션이 복잡해지면서, 한 앱을 실행하는데 많은 준비가 필요하게 되었다. (소스 파일, 라이브러리, 환경 설정, Dependency ...)

이런 번거로움을 해결하기 위해서, 앱 실행에 필요한 **모든 것**을 컨테이너라는 박스에 넣어서 패키징해서 만들어놓은 것이 컨테이너의 개념이다.


<img width="650px" src="https://github.com/Minnie5382/devduck-cs-study/assets/97179789/ad976fa9-0d56-443f-9bfd-d807b7e322ad">

> 앱 + 앱 실행 환경 = 컨테이너

따라서 컨테이너를 이용하면 어떤 환경의 OS에서도 바로 가동이 된다.

각각의 컨테이너는 독립적이므로, 컨테이너 사이의 통신에는 컨테이너 엔진이 제공하는 가상 네트워크 브릿지를 이용한다.


#### - 도커
도커(Doker) 가장 유명한 컨테이너 엔진이다. (개발자가 가장 많이 쓰는 툴 2위)

다양한 애플리케이션을 패키지화 해놓은 도커 이미지가 준비되어 있고, 사용자는 가져다 쓰면 된다. 

네트워크를 이용해 여러 개의 도커를 관리할 수 있는 것을 쿠버네티스 라고 한다.

### 58. 마이크로서비스 (MSA)

<img width="650px" src="https://github.com/Minnie5382/devduck-cs-study/assets/97179789/d4ff988a-525e-4c40-b6e6-50257acd4f3d">


> 앱의 각 기능들을 하나의 독립적인 요소로 바라보고(마이크로 아키텍쳐), 기능 요소별 모듈을 개발하고 이들을 조합하여 한 앱을 구축하는 개발 방식.
>
> 각 요소는 서버처럼 독립되어 있고, 통신을 통해 기능이나 데이터를 교환한다.


#### - 클라우드와 컨테이너와 MSA
일반적으로 MSA는 클라우드와 도커 환경에서 설계된다. 셋의 관계가 긴밀하다.

MSA 설계를 할 때는 클라우드 상에 서버를 두고, 각 기능을 컨테이너화 하여 관리하는 것이 일반적이다. 그리고 이 도커들은 쿠버네티스로 관리한다.

> MSA 설계는 데브옵스(DevOps)에서는 필수적이다

=> 저자의 이 말이 정확히 무엇을 의미하는지는 모르겠지만, 데브옵스란 원론적으로 개발과 운영을 같이 하는 비즈니스 방식(개발 방식)을 뜻한다. 이런 방식에서는 앱의 각 기능이 유연하게 조작이 가능해야하기 때문에 MSA가 필수적이라고 한 것 같다.

### 59. AWS & 60. 마이크로소프트 애저 & 61. 구글 클라우드
대표적인 클라우드 컴퓨팅 서비스 3대장이다. 비교해서 정리하자면 다음과 같다.
#### - AWS 
* 데이터센터를 리전과 가용 영역으로 나누었다.
* 유저에게는 VPC라는 인트라넷 공간이 할당된다. (EC2, 인스턴스)
* 가상 서버(EC2) 가상 스토리지(S3)m 계정 인증 매커니즘(IAM), 데이터베이스(RDS), DNS 서비스(Route53)...

#### - 마이크로소프트 애저
* IaaS, Paas를 고려한 클라우드 구성
* 하드웨어 + OS = 인스턴스
* 컴퓨팅, 데이터, 애플리케이션, 네트워크 등의 기본 서비스 제공

#### - 구글 클라우드
* 머신 러닝, 데이트 분석 등 빅데이터 분야 특화
* 프로젝트
* 컴퓨트 엔진 + 앱 엔진
* 클라우드 스토리지, 클라우드 SQL, 클라우드 빅테이블, 클라우드 데이터스토어, 데이터 플로우, 클라우드 비전 API, 텐서플로

### 62. 프라이빗 클라우드 vs 퍼블릭 클라우드
클라이드 서비스는 액세스 대상에 따라서 두가지로 나뉜다.

> 프라이빗 클라우드 : 클라우드 서버를 전용 회선, VPN 등으로 연결하여 계약자만 사용하는 클라우드. 외부 접속을 가정하지 않는다. (인트라넷의 클라우드화)
>
> 퍼블릭 클라우드 : AWS 등과 같이 계정만 만들면 누구나 사용할 수 있는 클라우드

자사 인트라넷을 퍼블릭 클라우드로 재현하기도 있고, 작은 기업에서는 퍼블릭 클라우드에 서버를 두기도 한다.

### 63. CDP/DDP
> CDP(Costomer Data Platform) : 유저가 인터넷에서 활동한 기록, 로그 등 사용 흔적(쿠키)을 수집하고 관리하는 플랫폼 -> 표적 광고에 사용 가능
> 
> DDP(Device Data Platform) : IoT 기기에서 수집된 데이터(교통 데이터, 센서 데이터 등)를 수집하고 관리하는 플랫폼 -> 프라이버시 보안 중요
