# 클라이언트 서버형과 피어 투 피어형

네트워크에 각 장치를 연결하는 방법 2가지

## Key Point

1. **클라이언트 - 서버형 : 장치의 역할에 따라 클라이언트와 서버로 나뉜다.**
- 클라이언트 : 서비스나 처리된 것을 **이용**
- 서버 : 서비스나 처리를 **제공(or요청)**
- 장치의 역할에 따라 나뉘기 때문에, 클라이언트형 기기가 서버형 기기가 되기도 한다. 그 반대도 마찬가지이다.
    
    Ex) 감시카메라가 서버로써 처리를 제공하기도 함
    

1. 피어 To 피어형 (대등한 동료, **서로 이용**) : **서버를 거치지 않고 장치를 일대일로 직접 연결하는 것**
- 인터넷에서 실시간 동영상 전송(패킷 전송 비효율), 고도화 및 맞춤형 통신에 효율적
- IP 주소와 전용 통신 앱 등을 사용하여 LAN의 단말기(라우터)끼리 직접 연결

### 용어

- 미니컴퓨터, 워크스테이션 : 1960년대 메인프레임(겁나 크고 대용량 처리. 군사용 등) 컴퓨터에 대비되는 컴퓨터로, 1970년대 중반부터 보급되기 시작해서 주로 대학 및 연구기관에서 활용되었다.

### 궁금

- CCTV에 포함되는 감시카메라 : 보통 클라이언트형 기기로 분류됨 (데이터 수집. 전송) 제한적 처리 능력으로 서비스를 제공하긴 하지만, 연결된 서버형 기기가 보통 그 역할 이상으로 수행한다.
- Time Sharing Service(TSS) : 컴퓨터 자원과 시스템을 여러 사용자가 동시에 사용할 수 있도록 하는 서비스. 메모리, 저장공간 등을 효율적으로 분배하여 다수의 사용자가 **동시**에 사용할 수 있게 함.
- 중앙 집중형 네트워크 : 위 컴퓨터의 TSS를 네트워크에 적용하면, 큰 서버 하나가 효율적으로 자원을 관리하면서 여러 클라이언트 기기가 동시에 서버를 사용할 수 있도록 하는 네트워크를 말하는 듯 함. But 조금 구식

# LAN (Local Area Network)

비교적 좁은 범위의 네트워크를 가리킬 때 쓰는 용어.

## Key Point

1. **제한된 범위의 네트워크를 이르는 말이다.**
- 지리적으로 떨어져 있어도 하나의 LAN으로 연결 가능 (본사, 지사)
- 건물이 떨어져 있어도 같은 부지내를 하나의 LAN으로 연결 가능

1. **LAN을 구성하는 네트워크는 이더넷이 주류이다.**
- 트위스트 페어 케이블로 만든 LAN 케이블로 장치끼리 연결. 각 장치를 연결할 때는 RJ-45라는 규격의 커넥터 사용
- 이더넷이 노드를 식별하는데는 **MAC 주소만**으로도 충분하다.
- 하지만 MAC 주소는 계층구조가 아니기 때문에 부서마다 계층 구조를 갖는 기업의 LAN 구성이나 관리가 어려워진다.
- 그래서 이더넷 프레임의 페이로드에 포함된 **IP 주소**를 사용해 네트워크를 구성하는 L3 스위치를 사용한다.
- L3 스위치는 3계층이기에 IP 주소를 식별자로 사용할 수 있으므로 문제가 해결되었다.

### 용어

- L3 스위치 : 원래 스위치는 2계층인 L2 스위치이지만, 최근에는 내부에서 **라우팅 기능**이나 TCP/IP 등 L3 이상의 프로토콜을 처리하는 제품도 있다.
- 이더넷 : 제록스 팔로알토연구소가 발명한 패킷 통신 기술이다. 1980년 IEEE 802 위원회에서 규격화되었다. 이더넷은 네트워크 기술이자 프로토콜이다. LAN을 구성하는데 필요한 하드웨어 + 소프트웨어 다 포함.

### 구체적인 LAN의 실체

L2 스위치만으로는 다른 네트워크와 통신을 할 수가 없다. 그 대안으로 케스케이드 연결이나 모든 장치를 하나의 LAN으로 관리하는 방법이 있지만, 케스케이드는 연결 대수에 제한이 있고 하나의 LAN으로 묶는 것은 유지 보수가 까다롭고 보안상 문제가 될 수 있기에 좋은 방법이 아니다. 그래서 다른 네트워크(외부 LAN)와 연결하기 위해 라우팅 기술이 들어가 있는 L3 스위치로 서로 다른 **L2 스위치(영업부.개발부 등)를 하나로 묶는다.** 

# 이더넷 (패킷 통신 기술)

이더넷은 회선의 **사용 상황을 탐지**(데이터를 보내려고 하는데 이미 전송되는게 있는지 등)하여 시작이나 대기를 판단하는 방식을 택하고 있다.

## Key Point

  1.  **랜덤 엑세스 방식 : 전송 중일 때 다른 기기가 전송 중이면(충돌 탐지) 조금 기다린 후 재전송을 시도하는 원리**

- CSMA/CD : 회선의 사용 상황을 탐지해서 재전송을 하는 방식 (유선 LAN 이더넷에서 사용)
- CSMA/CA : 재전송 대기 시간에 재전송 횟수를 고려한 난수를 이용해서 재전송 충돌률을 낮추는 방식 (무선 LAN에서 사용)

1. **버스형 네트워크 → 스타형 네트워크**
- 원래는 태핑으로 각 기기를 연결하는 버스형 네트워크
- 하지만 전송 속도가 100Mbps 이상이면 CSMA/CD 방식이 제대로 작동하지 않음.
- 현재는 스위칭 허브를 이용하여 패킷 식별자로 목적지를 전환하는 스타형 네트워크로 구성
    
    
1. **이더넷 프레임 : 이더넷 프로토콜에서 헤더나 페이로드를 포함한 데이터 전송 단위. TCP/IP에서 패킷이라고 불리는 것과 같다.**
- 발지 식별자 정보 : 6byte
- 목적지 식별자 정보 : 6byte
- 패킷 종류 or 패킷 프로토콜 정보(타입 필드) : 2byte
- 페이로드 : 46byte ~ 1500byte (TCP/IP의 패킷이 들어있다.)
- 체크섬 : 4byte / 전송 오류를 찾아내는 부호. 원본 데이터에서 얻은 계산 값과 수신한 데이터의 계산 값을 비교했을 때 서로 일치하지 않으면 올바르게 전송되지 않은 것으로 판단한다.

### 버스형 네트워크 VS 스타형 네트워크

1. 버스형 : 복수의 장치에 패킷을 전송하는 동보 통신에 유리. 전송로가 혼잡해지기 쉽다.
2. 스타형 : 장치 수가 스위치나 허브(집선장치)의 포트 수에 제한되며, 전송로의 혼잡과 충돌을 제어하기 쉽다.

### CSMA/CD VS CSMA/CA

[[PM도 알아야 할 네트워크] 이더넷과 CSMA/CD, CSMA/CA : 네이버 블로그 (naver.com)](https://blog.naver.com/PostView.naver?blogId=jvioonpe&logNo=220227243735)

### 용어

- 태핑 : 동축 케이블 외피에 금속 침으로 구멍을 내서 중심선에 직접 연결하는 방법.

# 무선 LAN

케이블이 아니라 전파를 사용해서 무선으로 연결되는 LAN이다.

## Key Point

1. **장점**
- 전파가 닿는 범위에서 자유롭게 설치 가능
- 스마트폰 등 각종 기기를 네트워크에 연결하기 쉽다.
- 네트워크에 연결할 장치를 추가하기 쉽다.

1. **단점**
- 전파를 도청당할 위험이 있다.
- 전파가 불안정해질 수 있다.
- 통신 속도가 느리고 대용량 통신에 적합하지 않다.

1. **무선 LAN 보안 대책**
- MAC 주소 인증 : 액세스 포인트에 등록된 주소 테이블을 사용하고, 사전에 등록된 장치만 연결시키는 기능
    - 단점 : 주소 테이블을 조사하는 프로토콜이 있어서 간파당하기 쉽다.
- 스텔스 SSID : 무선 LAN에 연결될 때 SSID가 브로드캐스트 되는 것을 방지해서 SSID를 참조할 수 없게 하는 기능이다.
    - 단점 : 프로토콜을 알고 있으면 SSID를 요청할 수 있음.
- **무선 통신 암호화 (IEEE 802.11 시리즈)**
    - WEP : 암호화 기술(RC4) 오래됨. 몇시간이면 간파 가능
    - WPA & WPA2 : TKIP로 암호화를 복잡하게 한 방식이다. 현재 개량이 진행되고 있으며 WPA2나 WPA3가 등장했다.
- LAN 내 별도 인증 서버 설치 등 상위계층에서의 대책

### 용어

- 무선 LAN : 규격으로는 IEEE 802.11이 규정되어 있고, 통신에는 2계층을 사용한다.
- SSID (Service Set IDentifier) : 무선 LAN을 통해 전송되는 패킷들의 각 헤더에 붙여지는 32비트의 고유한 식별자이다.  무선 장치들이 BSS(Bsic Service Set)에 접속할 때 마치 암호처럼 사용된다. SSID는 하나의 무선 랜을 다른 무선 랜으로부터 구분해 주므로, 특정 무선 랜에 접속하려는 모든 AP나 무선 장치들은 반드시 동일한 SSID를 사용해야만 한다.

# IEEE 802.x 규격

LAN에 관한 다양한 사양을 규정하고 있는 규격 체계이다.

프로토콜뿐만 아니라 케이블도 규정하고 있다.

## Key Point

1. **IEEE 802.3 : 이더넷**
- Ex) IEEE 802.3a
    - IEEE 802 ⇒ LAN 규격 / 3 ⇒ 이더넷 / a ⇒ 서픽스
- 전송 속도 최소 10Mbps ~ 10Gbps로 분류
- 트위스트 페어 케이블 or 광축케이블로 분류
- 전송 속도와 케이블을 기준으로 분류하여 서픽스로 표시

1. **IEEE 802.11 : 무선 LAN**
- Ex) IEEE 802.11a
    - EEE 802 ⇒ LAN 규격 / 11 ⇒ 무선 LAN / a ⇒ 서픽스
- 주파수 대역과 전송 속도로 분류 그리고 서픽스로 표시

### Wi-Fi 5 & Wi-Fi 6

|  | 주파수 대역 | 최대 통신 속도 | 특징 |
| --- | --- | --- | --- |
| WI-Fi 5 (802.11ac) | 5GHz | 6.9Gbps | IEEE 802.11n보다 대역폭이 넓다. 안테나를 최대 8개까지 묶어 고속통신 |
| Wi-Fi 6 (802.11ax) | 2.4/5GHz | 9.6Gbps | IEEE 802.11ac와 호환 가능하다. 고도의 앱을 지원한다. |

### 용어

- Wi-Fi : 무선 LAN의 일종으로, IEEE 802.11 시리즈의 보급 및 촉진을 위해 업계 단체가 책정해서 정착되었다.

# WAN (Wide Area Network)

LAN보다 넓은 범위를 연결하는 네트워크. 단 물리적인 범위의 차이만 있는 것은 아니다.

## Key Point

1. **용어**
- WAN (Wide Area Network) 광역 네트워크 : 다국적 기업. 인터넷 등 세계적 범위의 네트워크
- MAN (Metropolitan Area Network) 광역 LAN or 도시권 통신망 : 도시 권역 네트워크
- LAN (Local Area Network) LAN : 같은 부지, 좁은 범위의 네트워크

1. **예시**
- **가입자 전화를 연결하는 공중회선망(PSTN)**
    - 불특정 다수의 호스트나 디바이스 등이 연결되는 네트워크(망)
- **은행 본점, 지점의 네트워크망**
    - 통신사가 제공하는 전용선. 회선을 독점하고 특정 거점이나 데이터센터, 인터넷을 효율적으로 상호 접속해 주는 IX 연결
- **기업과 공장을 연결하는 네트워크망**
    - 공장 내 제어시스템과 연결하는 사례. 거리에 따라 WAN, MAN, LAN 다 쓸 수 있다. 비용은 WAN > MAN > LAN
    - WAN은 보통 인터넷을 사용하기 때문에 추가 보안 조치가 필요하다.
- **기업에서 LAN 사이를 연결하는 네트워크**
    - 같은 부서내의 세그먼트끼리 통신할 때는 LAN포트 다른 부서와 통신할 때는 WAN포트를 사용한다. 이 때는 네트워크의 안쪽이냐 바깥쪽이냐가 LAN과 WAN을 구분짓는 라인이다.

### 용어

- IX : Internet eXchange의 약어. 대량의 인터넷 통신을 취급하는 사업자가 상호 연결해서 경로 정보 등을 교환하는 연결점이다.
- 네트워크 프로토콜 : 원거리 거점 사이를 동일한 LAN으로 연결할 때, 중간 회선은 다양한 프로토콜과 방식, 통신 사업자를 이용한다. 통신사에 따라서는 자체적으로 대규모 이더넷망을 구축해서 원거리도 이더넷으로 연결할 때도 있다.

# VLAN

여러 스위치로 세그먼트가 구성됐을 때에 **네트워크 설계에 유연성**을 부여하기 위한 기술. 세그먼트를 분할하거나 결합시킨다.

## Key Point

1. **VLAN의 기능**
- 기업마다 과,부서별로 스위치를 나눠 세그먼트를 구성한다.
- 그런데 어떤 기기를 같은 세그먼트로 구성해야 하는데, 포트 수가 부족하거나 물리적으로 거리가 멀어서 불가능할 때 VLAN을 사용한다.
- VLAN-ID라는 식별자를 사용해서 스위치 안팎의 논리적(가상) 세그먼트를 구성해서 해결한다. (다른 스위치에 연결되어 있어도 가능하다.)

1. **VLAN을 이용한 2계층과 3계층의 세그먼트 관리** 
- 2계층
    - 동일한 세그먼트는 2계층에서 **브로드캐스트 패킷**(네트워크의 모든 호스트에 동시에 전송되는 패킷)이 도달할 수 있는 범위로 정의가 가능하다.
    - ARP나 DHCP가 브로드캐스트 할 때의 그 범위이다.
    - 그래서 세그먼트를 잘 관리하지 않으면 관련 없는 세그먼트까지 ARP나 DHCP의 문의 패킷이 흩어져 버릴 수 있다.
- 3계층
    - 3계층에서 통신하는 라우터는 **IP 주소와 서브넷**으로 세그먼트를 관리
    - L3 스위치 말고도 L2 스위치도 VLAN 기능을 가지고 있다.

### 용어

- VLAN-ID : 스위치 포트마다 할당되는 가상의 번호이다.

# SDN (Software Defined Network)

**대규모 네트워크**에서 유연하게 네트워크를 구성할 수 있게 해주는 기술

## Key Point

1. **SDN이 필요한 이유**
- 장치 배치나 배선 등 물리적인 이유에 구애받지 않고 유연하게 네트워크를 구성하기 위해 가상 네트워크 기술인 VLAN, VPN, MLPS등을 사용한다.
- 그런데 대규모 네트워크나 더욱 유연한 네트워크를 구성하고 싶을 때, 이들이 이용하는 태그나 라벨로는 충분치 않을 수 있다.
- SDN은 이런 경우에 사용할 수 있는 네트워크 기술이다.

1. **SDN 관리 과정** 
- 전용 스위치로 각 장치를 하나의 LAN으로 모은다.
- 하드웨어(각 장치를 네트워크에 연결)와 소프트웨어(세그먼트나 라우팅 관리 및 제어하는 기능)를 분리한다.
- 설정 정보와 네트워크 제어를 관리 부분(**컨트롤 플레인**)에 집중한다.
- 전용 스위치(데이터 플레인)으로 연결 되어있으면 컨트롤 플레인으로 세세한 설정이나 구성은 조정할 수 있다.

1. **기타**
- Rest API를 통해 SDN을 관리한다. 웹브라우저를 이용하여 제어하거나 관리하기 때문이다.
- SDN을 관리하는 표준 프로토콜으로는 NETCONF와 OpenFlow가 있다.

### SDN 활용 사례

통신 사업자, 클라우트 서비스 등 **대규모 네트워크**를 구축 및 관리하는 영역에서 확산되고 있다.

통신사업자는 **거대한 연결회선망(네트워크)**을 준비하여 물리적인 연결과 관계없이 컨트롤 플레인을 설정하여 임의의 LAN을 구성할 수 있도록 하고 있다.

클라우드의 가상 서버 구성을 유연하게 변경이 가능하다.

### 용어

- MLPS : 패킷에 전용 태그 정보나 ID 정보를 추가하여 라우팅을 제어하는 기술이다.
- 가상화 : 라벨이나 태그의 ID등을 사용해서 스위치나 라우터에 대한 물리적 연결에 의존하지 않는 네트워크 및 세그먼트를 구성한다.
- REST API : 웹 애플리케이션 등의 기능이나 서비스를 호출하는 규약이다. 웹 브라우저에서는 다양한 웹 사이트의 애플리케이션과 서비스를 REST API로 이용한다.

# LAN 끼리 연결한 네트워크

세그먼트가 모여 하나의 LAN이 되고 또 그 세그먼트들이 모여 더 상위의 세그먼트가 된다.

## Key Point

1. **기업의 세그먼트 구성**
- 부 단위나 과 단위로 세그먼트를 구성하여 스위치로 묶어준다.
- 스위치로 묶어진 세그먼트들을 모아 또 다른 스위치로 묶어준다.
- 이 때 세그먼트들의 트래픽양이나 장치 수에 따라 L3스위치나 라우터 등의 3계층 장비로 묶어준다.
- 3계층 장비를 사용하면 물리 계층이나 데이터 링크 계층을 숨긴 추상적인 ID로 유연하게 관리할 수 있기 때문이다.

1. 클**라이언트형과 서버형 세그먼트 배치**
- 클라이언트형뿐만 아니라 서버형 기기도 세그먼트에 배치된다.
- 여러 부서가 사용하는 서버들은 따로 독립된 세그먼트를 구성한다.
- 단 한 부서만 이용하는 서버는 그 부서의 세그먼트에 구성한다.
- 업무 시스템을 클라우드로 옮겨서 클라이언트형 기기만으로 구성된 사무실도 있다.
- 인터넷에 직접 연결되지 않은 기업 내부 시스템을 위한 네트워크인 인트라넷도 있다.

### L3 스위치 VS 라우터

|  | 처리 속도 | 패킷 내용에 따른 제어 | 포트 수 | 사용처 |
| --- | --- | --- | --- | --- |
| L3 스위치 | 빠르다 | 불가능 | 많다(16 ~ 48개) | L2 스위치를 묶을 때 사용 |
| 라우터 | 느리다 | 가능 | 적다 | 인터넷이나 WAN의 경계에 설치 |

### 용어

- 추상적 : IP 주소로 세그먼트의 범위나 접속 장치를 관리하면 스위치의 어느 포트에 연결되어 있는지, 장치의 MAC 주소는 무엇인지 등 하위 계층의 정보를 몰라도 네트워크 설정 및 관리가 가능해진다.

# 인터넷에 연결된 네트워크

LAN과 인터넷 사이에는 라우터나 방화벽이 필수다.

## Key Point

1. **(에지)라우터의 역할**
- 내부와 외부를 분리하는 방화벽 역할을 한다. (방화벽 기능을 내장한 라우터도 있다.)
    - 공격(위험)패킷을 차단한다.
    - 패킷의 프로토콜 종류나 출발지 포트 번호를 참조해서 특정 서비스에 연결을 차단할 수 있다.
- 글로벌 IP 주소를 프라이빗 IP 주소로 바꿔주는 NAT, NAPT 기능을 가진다.
    - 인터넷에서 LAN 내부의 장치까지 패킷이 전달 가능해진다.

### 용어

- 공격 패킷 : 정찰, 방해, 파괴, 도용 등 의도(악의)를 가진 자가 생성 및 전송한 패킷이다. **프로토콜상의 형식(데이터 구성 규칙)만으로는** 악의성 여부를 판단할 수 없기 때문에 공격 패킷 식별은 쉽지 않다.

# 모바일 네트워크를 활용한 네트워크

스마트폰. IoT 장치 등이 사용하는 네트워크. 이 네트워크로 인터넷에 연결한다.

## Key Point

1. **스마트폰**
- 스마트폰의 회선을 모바일 네트워크라고 한다.
- 프로토콜은 인터넷과 호환되지 않지만, 패킷 교환 방식을 동일하다.
- 따라서 패킷의 페이로드를 프로토콜 스택으로 캡슐화하면 모바일 네트워크에 인터넷 패킷을 실을 수 있다.
    - 스마트폰 앱이 인터넷 패킷을 생성 후 모바일 네트워크 프로토콜의 페이로드로 변환시킴.
    - 그리고 통신사의 모바일 네트워크에 설치된 인터넷 게이트웨이가 이런 패킷을 처리하여 인터넷으로 전송한다.

1. **통신 모듈 등**
- 스마트폰과 비교해 화면이나 키패드만 없을 뿐, 무선 부분과 SIM카드는 동일하다.
- **텔레워크(재택 근무)**에서 원격 접속등으로 인터넷 이용. 이때 인터넷 VPN을 이용하여 보안성을 높이는 경우가 있다.

### 용어

- 통신 모듈 : 계약 정보가 입력된 SIM카드와 기지국과 통신하는 송수신기를 갖춘 통신 단말기다. **장치에 내장하는 것을 전제**로 하며, 디스플레이나 키패드는 갖지 않는다.
- 캡슐화 : 어떤 프로토콜의 데이터 조작 순서 등을 하나로 정리해서 **다른 프로토콜로** 다룰 수 있게 하는 것이다.
- 인터넷 게이트웨이 : 모바일 네트워크와 인터넷을 연결하는 게이트웨이를 의미한다. 통신 사업자는 자사의 모바일 네트워크를 인터넷에 연결하기 위해 **반드시** 보유하고 있다.